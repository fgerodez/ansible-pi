- hosts: pi
  vars_files:
    - ./external_vars.yml
  roles:
    # - role: system

    # - role: networking
      
    - role: nftables

    # - role: fail2ban

    - role: minidlna
      vars:
        minidlna_local_subnet: "{{ local_subnet }}"
        minidlna_local_gateway: "{{ local_gateway }}"
      
    # - role: nextcloud
    #  vars:
    #    nextcloud_mariadb_root_password: "{{ db_root_password }}"
      
    # - role: torrent

    # - role: wireguard

    - role: sonarr

    - role: radarr

    - role: prowlarr
      
    # - role: mail
    #   vars:
    #     mail_hostname: "{{ mail_server_hostname }}"

    #- role: caddy
    #  vars:
    #    caddy_proxies:
    #        - { hostname: "{{ prowlarr_hostname }}", target: "{{ prowlarr_target }}"}
